# =============================================================================
# ROSTER SAAS - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.production and configure all values
# DO NOT commit .env.production to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
POSTGRES_USER=roster_prod_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=roster_production
POSTGRES_PORT=5432

# Full database URL (constructed from above or use external database)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=public&connection_limit=50

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
APP_PORT=3000

# Logging level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET
JWT_EXPIRES_IN=7d

# CORS Configuration (comma-separated origins)
CORS_ORIGIN=https://yourdomain.com,https://app.yourdomain.com

# -----------------------------------------------------------------------------
# NORWEGIAN LABOR LAW COMPLIANCE
# -----------------------------------------------------------------------------
# Minimum days before roster must be published (Arbeidsmiljøloven § 10-2)
ROSTER_PUBLISH_DEADLINE_DAYS=14

# Minimum daily rest hours (Arbeidsmiljøloven § 10-8)
MIN_DAILY_REST_HOURS=11

# Minimum weekly rest hours (Arbeidsmiljøloven § 10-8)
MIN_WEEKLY_REST_HOURS=35

# Maximum normal work hours per day (Arbeidsmiljøloven § 10-4)
MAX_DAILY_WORK_HOURS=9

# Maximum normal work hours per week (Arbeidsmiljøloven § 10-4)
MAX_WEEKLY_WORK_HOURS=40

# Data retention years for audit logs
AUDIT_RETENTION_YEARS=2

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
# Grafana admin password (if using self-hosted monitoring)
# GRAFANA_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# -----------------------------------------------------------------------------
# RAILWAY / CLOUDFLARE DEPLOYMENT
# -----------------------------------------------------------------------------
# Railway automatically provides:
# - DATABASE_URL (via Railway Postgres plugin)
# - PORT (auto-assigned)
# - RAILWAY_ENVIRONMENT (production/staging)

# Cloudflare settings (if using Cloudflare for DNS/CDN)
# Your domain will be proxied through Cloudflare for SSL and DDoS protection

# -----------------------------------------------------------------------------
# OPTIONAL SERVICES
# -----------------------------------------------------------------------------
# Redis cache (optional - for session storage and caching)
# REDIS_URL=redis://localhost:6379

# Email service (optional - for notifications)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=notifications@yourdomain.com
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=Roster SaaS <notifications@yourdomain.com>

# Slack notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# -----------------------------------------------------------------------------
# PRODUCTION CHECKLIST
# -----------------------------------------------------------------------------
# Before deploying to production, ensure:
# [ ] All CHANGE_ME values have been replaced
# [ ] JWT_SECRET is a unique, random 32+ character string
# [ ] POSTGRES_PASSWORD is strong (20+ characters, mixed case, numbers, symbols)
# [ ] GRAFANA_PASSWORD is strong
# [ ] CORS_ORIGIN lists only your actual domains
# [ ] SSL certificates are configured in nginx/ssl/
# [ ] Database backups are configured
# [ ] Monitoring alerts are set up
# [ ] Log aggregation is configured
